{"version":3,"sources":["newsList_screen.js"],"names":["$","bsWidth","productList","containerWidth","afterWidth","load_more_click","window","width","calculateWidth","on","load_more","scroll","scrollTop","windowHeight","height","offsetTop","offset","top","removeClass","load_more_lg","length","j","i","addClass","load_more_show","load_more_ok","remaing_cunt","html","hide","show","css","parseInt"],"mappings":";;AAAAA,EAAE,YAAY;;AAEV,QAAIC,OAAJ;AACA,QAAIC,WAAJ;AACA,QAAIC,cAAJ,EAAoBC,UAApB;AACA,QAAIC,kBAAkB,CAAtB;AACAJ,cAAUD,EAAEM,MAAF,EAAUC,KAAV,EAAV;AACAC,mBAAeP,OAAf;AACAD,MAAEM,MAAF,EAAUG,EAAV,CAAa,QAAb,EAAuB,YAAY;AAC/BR,kBAAUD,EAAEM,MAAF,EAAUC,KAAV,EAAV;AACAC,uBAAeP,OAAf;AACH,KAHD;;AAKAS,cAAUL,eAAV;AACAL,MAAEM,MAAF,EAAUK,MAAV,CAAiB,YAAY;;AAEzB,YAAIC,YAAYZ,EAAEM,MAAF,EAAUM,SAAV,EAAhB,CAFyB,CAEe;AACxC,YAAIC,eAAeb,EAAEM,MAAF,EAAUQ,MAAV,EAAnB,CAHyB,CAGc;AACvC;AACA,YAAIC,YAAYf,EAAE,oBAAF,EAAwBgB,MAAxB,GAAiCC,GAAjD;;AAEA,YAAIF,YAAaH,YAAYC,YAAzB,IAA0CE,YAAYH,SAA1D,EAAqE;AACjE,gBAAIP,mBAAmB,CAAvB,EAA0B;AACtBA,kCAAkB,CAAlB;AACH;AACDK,sBAAUL,eAAV;AACAA;AACH;AACJ,KAdD;;AAgBA,aAASK,SAAT,CAAmBL,eAAnB,EAAoC;AAChCL,UAAE,0BAAF,EAA8BkB,WAA9B,CAA0C,IAA1C;AACA,YAAIC,eAAenB,EAAE,0BAAF,EAA8BoB,MAAjD;AACA,YAAIC,IAAI,IAAIhB,eAAZ;AACA,aAAK,IAAIiB,IAAI,CAAb,EAAgBA,KAAKH,YAArB,EAAmCG,GAAnC,EAAwC;AACpC,gBAAIA,IAAID,CAAR,EAAW;AACPrB,kBAAE,iCAAiCsB,CAAjC,GAAqC,GAAvC,EAA4CC,QAA5C,CAAqD,IAArD;AACH;AACJ;;AAED,YAAIC,iBAAiBxB,EAAE,0BAAF,EAA8BoB,MAAnD;AACA,YAAIK,eAAezB,EAAE,wBAAF,EAA4BoB,MAA/C;AACA,YAAIM,eAAeF,iBAAiBC,YAApC;;AAEAzB,UAAE,qBAAF,EAAyB2B,IAAzB,CAA8BD,YAA9B;;AAGA,YAAIA,gBAAgB,CAApB,EAAuB;AACnB1B,cAAE,gBAAF,EAAoB4B,IAApB;AACH,SAFD,MAGK;AACD5B,cAAE,gBAAF,EAAoB6B,IAApB;AACH;AACJ;;AAED,aAASrB,cAAT,CAAwBP,OAAxB,EAAiC;AAC7B,YAAIA,UAAU,GAAd,EAAmB;AACfE,6BAAiBH,EAAE,YAAF,EAAgB8B,GAAhB,CAAoB,OAApB,CAAjB;AACA1B,yBAAa,CAAC2B,SAAS5B,cAAT,IAA2B,EAA5B,IAAkC,CAA/C;AACAH,cAAE,4BAAF,EAAgC8B,GAAhC,CAAoC,OAApC,EAA6C,KAAK1B,UAAlD;AACH,SAJD,MAIO;AACHJ,cAAE,4BAAF,EAAgC8B,GAAhC,CAAoC,OAApC,EAA6C,MAA7C;AACH;AACJ;AAGJ,CAlED","file":"../newsList/newsList_screen.js","sourcesContent":["$(function () {\r\n\r\n    var bsWidth;\r\n    var productList;\r\n    var containerWidth, afterWidth;\r\n    var load_more_click = 1;\r\n    bsWidth = $(window).width();\r\n    calculateWidth(bsWidth)\r\n    $(window).on('resize', function () {\r\n        bsWidth = $(window).width();\r\n        calculateWidth(bsWidth)\r\n    })\r\n\r\n    load_more(load_more_click);\r\n    $(window).scroll(function () {\r\n\r\n        var scrollTop = $(window).scrollTop();  //页面向上滚动的距离\r\n        var windowHeight = $(window).height(); // 浏览器自身的高度\r\n        // var offsetTop = $(\".exc_load_more_btn\").offset().top;  //目标相对于document顶部的位置\r\n        var offsetTop = $('#sm_footer_section').offset().top;\r\n\r\n        if (offsetTop < (scrollTop + windowHeight) && offsetTop > scrollTop) { \r\n            if (load_more_click == 1) {\r\n                load_more_click = 2\r\n            }\r\n            load_more(load_more_click);\r\n            load_more_click++;\r\n        }\r\n    })\r\n\r\n    function load_more(load_more_click) {\r\n        $(\".product_list .row > div\").removeClass(\"ok\");\r\n        var load_more_lg = $(\".product_list .row > div\").length;\r\n        var j = 3 * load_more_click;\r\n        for (var i = 0; i <= load_more_lg; i++) {\r\n            if (i < j) {\r\n                $(\".product_list .row > div:eq(\" + i + \")\").addClass(\"ok\");\r\n            }\r\n        }\r\n\r\n        var load_more_show = $(\".product_list .row > div\").length;\r\n        var load_more_ok = $(\".product_list .row .ok\").length;\r\n        var remaing_cunt = load_more_show - load_more_ok;\r\n\r\n        $(\".load_more_btn span\").html(remaing_cunt);\r\n\r\n\r\n        if (remaing_cunt == 0) {\r\n            $(\".load_more_btn\").hide();\r\n        }\r\n        else {\r\n            $(\".load_more_btn\").show();\r\n        }\r\n    }\r\n\r\n    function calculateWidth(bsWidth) {\r\n        if (bsWidth > 991) {\r\n            containerWidth = $('.container').css('width');\r\n            afterWidth = (parseInt(containerWidth) - 60) / 3;\r\n            $('.product_list > .row > div').css('width', '' + afterWidth);\r\n        } else {\r\n            $('.product_list > .row > div').css('width', '100%');\r\n        }\r\n    }\r\n\r\n\r\n})"]}