{"version":3,"sources":["hp_bookingbar_10.js"],"names":["$booking_tab1","$","menu","beforeScrollTop","$btn_toggle","_container","dateRangePicker","language","separator","autoClose","customTopBar","format","startDate","formatDate","Date","showShortcuts","getValue","innerHTML","setValue","s","bind","removeClass","click","event","hasClass","data","close","addClass","_left","offset","left","$dpw","css","window","width","_width","innerWidth","find","length","on","e","preventDefault","stopPropagation","closest","text","trigger"],"mappings":"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","file":"../common/hp_bookingbar_10.js","sourcesContent":["var $booking_tab1 = $(\"#bookingbar-tab1\"),\n    menu = $('.sm_top_menu_03'),\n    // re = /galaxyhotel.html/gi,\n    beforeScrollTop = 0,\n    $btn_toggle = $('#booking-fixed .navbar-toggle'),\n    _container = $('#booking-fixed');\n$(function() {\n    $(\"#date1\").dateRangePicker({\n        language: 'cn',\n        separator: ' - ',\n        autoClose: true,\n        customTopBar: ' ',\n        format: 'YYYY年MM月DD日',\n        startDate: formatDate(new Date()),\n        showShortcuts: true,\n        getValue: function() {\n            return this.innerHTML;\n        },\n        setValue: function(s) {\n            this.innerHTML = s;\n        }\n    }).bind('datepicker-closed', function() {\n        $(this).removeClass('open');\n    }).bind('datepicker-open', function() {\n        $(this).removeClass('open');\n    });\n    $(\"#date1\").click(function(event) {\n        if ($(this).hasClass('open')) {\n            $(\"#date1\").data('dateRangePicker').close();\n            $(this).removeClass('open');\n            return;\n        }\n        $(this).addClass('open');\n        var _left = $(this).offset().left;\n        var $dpw = $(\".date-picker-wrapper\");\n        $dpw.css('left', _left);\n        if ($(window).width() < 560) {\n            var _width = $(this).innerWidth();\n            $dpw.find('.month-wrapper').innerWidth(_width);\n        }\n    });\n    if ($('#date2').length > 0) {\n        $(\"#date2\").dateRangePicker({\n            language: 'cn',\n            separator: ' - ',\n            autoClose: true,\n            customTopBar: ' ',\n            format: 'YYYY年MM月DD日',\n            startDate: formatDate(new Date()),\n            showShortcuts: true,\n            getValue: function() {\n                return this.innerHTML;\n            },\n            setValue: function(s) {\n                this.innerHTML = s;\n            }\n        }).bind('datepicker-closed', function() {\n            $(\"#date2\").removeClass('open');\n        }).bind('datepicker-open', function() {\n            $(this).addClass('date2-datepicker');\n        });\n        $(\"#date2\").click(function(event) {\n            if ($(this).hasClass('open')) {\n                $(\"#date2\").data('dateRangePicker').close();\n                $(this).removeClass('open');\n                return;\n            }\n            $(this).addClass('open');\n            var _left = $(this).offset().left;\n            var $dpw = $(\".date-picker-wrapper\");\n            $dpw.css('left', _left);\n            if ($(window).width() < 560) {\n                var _width = $(this).innerWidth();\n                $dpw.find('.month-wrapper').width(_width);\n            }\n        });\n    }\n    $('.hotel-select,.number-people-select').on('click', function() {\n        if ($(\"#date1\").length > 0) {\n            $(\"#date1\").data('dateRangePicker').close();\n        }\n        if ($(\"#date2\").length > 0) {\n            $(\"#date2\").data('dateRangePicker').close();\n        }\n        if ($(\"#date3\").length > 0) {\n            $(\"#date3\").data('dateRangePicker').close();\n        }\n    });\n    $('.hp-select li a').click(function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        $(this).closest('.dropdown').find('.result:visible').text($(this).text());\n        $(this).closest('.dropdown-menu').trigger('click');\n    });\n    $('.dropdown-menu1 .title').on('click', function(e) {\n        e.stopPropagation();\n    })\n    $('.nps-cancel').click(function() {\n        $('#select-result3').text(2);\n        $('#adult-num').text(1);\n        $('#children-num').text(1);\n    });\n    \n    // SM only hotel page show skinny bookingbar\n    // function booking_fixed_show() {\n    //     var current_height = $(window).scrollTop(),\n    //         _width = $(window).width();\n    //     if (_width > 991) {\n    //         if (current_height > booking_height) {\n    //             if (_container.is(\":hidden\")) {\n    //                 menu.hide().next('#booking-fixed').show();\n    //             }\n    //         } else {\n    //             if (_container.is(\":visible\")) {\n    //                 _container.hide().prev().show();\n    //             }\n    //             if ($btn_toggle.is(\":hidden\")) {\n    //                 $btn_toggle.show();\n    //             }\n    //             menu.removeClass('rel');\n    //         }\n    //     }\n    // }\n    // if ($(window).width() > 991) {\n    //     beforeScrollTop = document.body.scrollTop;\n    //     $(window).on(\"load\", function() {\n    //         booking_fixed_show();\n    //         setTimeout(function() {$(window).trigger('resize')},1000)\n    //     });\n    //     $(window).on(\"resize\", function() {\n    //         booking_fixed_show();\n    //     });\n    //     $(window).on(\"scroll\", function() {\n    //         booking_fixed_show();\n    //         var afterScrollTop = $(window).scrollTop(),\n    //             delta = afterScrollTop - beforeScrollTop;\n    //         if (delta === 0) return false;\n    //         if (delta > 0) {\n    //             if ($('.sm_top_menu_03').hasClass('rel')) {\n    //                 $('.sm_top_menu_03').removeClass('rel').slideUp(350);\n    //                 $btn_toggle.fadeIn();\n    //             }\n    //         }\n    //         beforeScrollTop = afterScrollTop;\n    //     });\n    //     $btn_toggle.click(function() {\n    //         $('.sm_top_menu_03').toggleClass('rel').slideToggle(350);\n    //         $(this).fadeOut();\n    //     });\n    // }\n});\n"]}